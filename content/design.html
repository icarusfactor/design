<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Design</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <link href="https://cdn.jsdelivr.net/npm/summernote@0.9.1/dist/summernote-bs4.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.9.1/dist/summernote-bs4.min.js"></script>

  <style>

@font-face {
    font-family: "summernoteexttable";
    font-style: normal;
    font-weight: 400;
    font-display: auto;
    src: url(font/summernote-ext-table.eot);
    src: url(font/summernote-ext-table.eot?#iefix) format("embedded-opentype"), url(font/summernote-ext-table.woff2) format("woff2"), url(font/summernote-ext-table.woff) format("woff"), url(font/summernote-ext-table.ttf) format("truetype")
}

.note-icon-table-merge:before {
    font-family: summernoteexttable;
    content: "\ea91"
}

.note-icon-table-cell-split:before {
    font-family: summernoteexttable;
    content: "\ea94"
}

.note-icon-table-margin:before {
    font-family: summernoteexttable;
    content: "\ea95"
}

.note-icon-table-width-height-reset:before {
    content: "\ea28"
}

.jtable-cell-split-dropdown-toggle {
    width: 20px;
    padding-left: 5px;
}

.jtable-cell-split-dropdown {
    width: 36px;
    min-width: auto !important;
}

.jtable-cell-split-button-group {
    margin: 0px !important;
}

.jtable-add-del-row-col-dropdown {
    width: 145px;
    min-width: auto !important;
}

.jtable-add-row-col-button-group {
    margin: 0px !important;
}

.jtable-del-row-col-button-group {
    margin: 3px 0px 0px 0px !important;
}

.jtable-align-dropdown {
    width: 142px;
    min-width: auto !important;
}

.jtable-horizontal-align-button-group {
    margin: 0px !important;
}

.jtable-vertical-align-button-group {
    margin: 3px 0px 0px 0px !important;
}

.jtable-vertical-align-btn-top {
    padding-top: 1px;
    padding-bottom: 9px;
}

.jtable-vertical-align-btn-middle {
}

.jtable-vertical-align-btn-bottom {
    padding-top: 9px;
    padding-bottom: 1px;
}

.jtable-vertical-align-btn-baseline {
    padding-top: 1px;
    padding-bottom: 9px;
}

.jtable-merge-label {
    float: left;
    padding-left: 0px;
    width: 60px;
}

.jtable-merge-input {
    width: 100px;
    display: inline-block;
}

.jtable-merge-hint-span {
    font-size: 13px;
    padding-left: 5px;
}

.jtable-merge-row-info-div {
    padding-top: 10px;
}

.jtable-merge-btn {
    /*background: #5a5a5a;*/
}

.vl {
    display: none;
    position: absolute;
    border-left: 3px dashed #bcbcbc;
    cursor: col-resize;
    z-index: 1;
}

.hl {
    display: none;
    position: absolute;
    border-top: 3px dashed #bcbcbc;
    cursor: row-resize;
    z-index: 1;
}

.jtable-block {
    display: none;
    position: absolute;
    border: 1px dashed #bcbcbc;
    background-color: rgba(167, 163, 255, 0.5);
    z-index: 1;
    pointer-events: none;
}



.form-group-jtable-table-info-margin {
    border: 1px dashed #888;
    padding: 15px 0px;
}

.jtable-table-info-margin-top-bottom {
    text-align: center;
}

.jtable-table-info-margin-input {
    width: 40px;
    margin-right: 3px;
}

.jtable-table-info-margin-middle {
    display: flex;
    text-align: center;
    height: 109px;
    margin: 15px 0 15px 0;
}

.jtable-table-info-margin-left {
    width: 20%;
    padding-top: 45px;
}

.jtable-table-info-margin-center {
    width: 60%;
    text-align: center;
    padding-top: 30px;
    border: 2px solid #000000;
}

.jtable-table-info-margin-right {
    width: 20%;
    padding-top: 45px;
}
  </style>

<!-- CSS to stop drag and drop from breaking main div points. -->
<style>
.drag-part {
  * {
    pointer-events: none;
    }
  }
</style>


    <style>

    .small-size {
    width: 450px !important;
    }

    .zoom-out {
      top: 0px;
      left: 0px;
      height: 97%;
      position: relative;
      transform-origin: 1% 1%;
      transform: scale(0.5);
     /* Need to have javascript set the height in pixles to get scollbar to work. */
    }
 
    .note-editable {
    background: white;
    width: 800px;
    height: 100%;
    box-shadow: 0 10px 20px 0 rgba(0, 0, 0, 0.4);
    }

    div.note-editing-area { 
    /* background: #2f3a3e; */
    background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4JyBoZWlnaHQ9JzgnPgogIDxyZWN0IHdpZHRoPSc4JyBoZWlnaHQ9JzgnIGZpbGw9JyNmZmYnLz4KICA8cGF0aCBkPSdNMCAwTDggOFpNOCAwTDAgOFonIHN0cm9rZS13aWR0aD0nMC41JyBzdHJva2U9JyNhYWEnLz4KPC9zdmc+Cg=="); 
    background-repeat: repeat;
    min-height: 100%;
    box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.4); 
    }
    </style>

   <script>

   $(document).ready(function() {
   //Reload edit window if needed. Needed after unzoom from class settings cauing issues.  
   //When loading last session this is used to make sure any dynamic class activity is reset.		      
   let doReload = localStorage.getItem('rcd_reload');
   if (doReload === null || doReload === "false") {
      console.log("No Reload.");
   } else if( doReload === "zoom" ) {
      console.log("Reload Edit Window");
      window.parent.restoreZoom();
      highlightDIV(); //Check if to highlight.		      
      localStorage.setItem('rcd_reload', "false");
   } else if( doReload === "session" ) {
      console.log("Restore Session");
      window.parent.restoreSession(); 
      highlightDIV(); //Check if to highlight.		      
      localStorage.setItem('rcd_reload', "false");
      window.parent.noticeSessLoad();
   }		      

    });


    //Enable sub-usable buttons.
    const tsize = window.parent.document.querySelector('.btn-tsize');
    const savedraft = window.parent.document.querySelector('.btn-savedraft');        
    const maketmpl = window.parent.document.querySelector('.btn-maketmpl');        
    const tzoom = window.parent.document.querySelector('.btn-tzoom');        
    const savesess = window.parent.document.querySelector('.btn-savesess');        
    const loadsess = window.parent.document.querySelector('.btn-loadsess');        


    tsize.disabled= false;
    savedraft.disabled= false;
    maketmpl.disabled= false;
    tzoom.disabled= false;
    savesess.disabled= false;
    loadsess.disabled= false;

    </script>


    <script >
    (function (factory) {
    /* global define */
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else if (typeof module === 'object' && module.exports) {
        // Node/CommonJS
        module.exports = factory(require('jquery'));
    } else {
        // Browser globals
        factory(window.jQuery);
    }
}(function ($) {
    $.extend($.summernote.options, {
        template: {}
    });



    // Extend plugins for adding templates
    $.extend($.summernote.plugins, {
        /**
         * @param {Object} context - context object has status of editor.
         */
        'template': function (context) {
            var ui = $.summernote.ui;
            var options = context.options.template;
            var defaultOptions = {
                // label: 'Template',
		icon: '<i class="note-icon" ><svg xmlns="http://www.w3.org/2000/svg" height=18 width=18 viewBox="0 0 576 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M48 115.8C38.2 107 32 94.2 32 80c0-26.5 21.5-48 48-48c14.2 0 27 6.2 35.8 16l344.4 0c8.8-9.8 21.6-16 35.8-16c26.5 0 48 21.5 48 48c0 14.2-6.2 27-16 35.8l0 280.4c9.8 8.8 16 21.6 16 35.8c0 26.5-21.5 48-48 48c-14.2 0-27-6.2-35.8-16l-344.4 0c-8.8 9.8-21.6 16-35.8 16c-26.5 0-48-21.5-48-48c0-14.2 6.2-27 16-35.8l0-280.4zM125.3 96c-4.8 13.6-15.6 24.4-29.3 29.3l0 261.5c13.6 4.8 24.4 15.6 29.3 29.3l325.5 0c4.8-13.6 15.6-24.4 29.3-29.3l0-261.5c-13.6-4.8-24.4-15.6-29.3-29.3L125.3 96zm2.7 64c0-17.7 14.3-32 32-32l128 0c17.7 0 32 14.3 32 32l0 96c0 17.7-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32l0-96zM256 320l32 0c35.3 0 64-28.7 64-64l0-32 64 0c17.7 0 32 14.3 32 32l0 96c0 17.7-14.3 32-32 32l-128 0c-17.7 0-32-14.3-32-32l0-32z"/></svg></i><span class="caret"></span>',
		tooltip: 'Insert Template',
                list: {
                 template0: '', 
		}
            };


            // Assign default values if not supplied
            for (var propertyName in defaultOptions) {
                if (options.hasOwnProperty(propertyName) === false) {
                    options[propertyName] = defaultOptions[propertyName];
                }
            }

            //Will only activate Subject line tmpl: filename 20 character limit.

	    activecount = window.parent.activecount; 

	for (let i = 1; i <= activecount; i++) {

	  switch (i) {
		case 1:
	    	      options.list.template1 = window.parent.tmplsubj[1];	
                      break; 
		case 2:
	    	      options.list.template2 = window.parent.tmplsubj[2];		
    		      break;
		case 3:
	    	      options.list.template3 = window.parent.tmplsubj[3];		
                      break;
		case 4:
	    	      options.list.template4 = window.parent.tmplsubj[4];		
                      break;
		case 5:
	    	      options.list.template5 = window.parent.tmplsubj[5];		
                      break;
		case 6:
	    	      options.list.template6 = window.parent.tmplsubj[6];		
                      break;
		case 7:
	    	      options.list.template7 = window.parent.tmplsubj[7];		
                      break;
		case 8:
	    	      options.list.template8 = window.parent.tmplsubj[8];		
                      break;
		case 9:
	    	      options.list.template9 = window.parent.tmplsubj[9];		
                      break; 
		case 10:
	    	      options.list.template10 = window.parent.tmplsubj[10];			
                      break; 
  		default:
	    	      options.list.template0 = ""; //empty or null value that wont show up in list.	
		}
               
               } //End for loop

            // add template button
            context.memo('button.template', function () {
                // initialize list
                var htmlDropdownList = '';
                for (var htmlTemplate in options.list) {
                    if ( htmlTemplate != "template0" ) {
                    if (options.list.hasOwnProperty(htmlTemplate)) {
                        htmlDropdownList += '<li><a class="dropdown-item" href="#" data-value="' + htmlTemplate + '">' + options.list[htmlTemplate] + '</a></li>';
                    }
		    }
                }

                // create button
                var button = ui.buttonGroup([
                    ui.button({
                        className: 'dropdown-toggle',
                        //contents: '<span class="template"/> ' + options.label + ' <span class="caret"></span>',
                        contents: '<span class="template"/> ' + options.icon + ' <span class="caret"></span>',
                        tooltip: options.tooltip,
                        data: {
                            toggle: 'dropdown'
                        }
                    }),
                    ui.dropdown({
                        className: 'dropdown-template',
                        items: htmlDropdownList,
                        click: function (event) {
                            event.preventDefault();

                            var $button = $(event.target);
                            var value = $button.data('value');
			    var num = value.replace(/\D/g, "");
                            window.parent.importTemplate(num); 
			    documentTypeNotice();
                            console.log('template ID: ' + num );


                        }
                    })
                ]);

                // create jQuery object from button instance.
                return button.render();
            });
        }
    });
}));


/* BEGIN : Three section of the same for three part dropdown system HEADER CNTENT FOOTER */

(function (factory) {
    /* global define */
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else if (typeof module === 'object' && module.exports) {
        // Node/CommonJS
        module.exports = factory(require('jquery'));
    } else {
        // Browser globals
        factory(window.jQuery);
    }
}(function ($) {
    $.extend($.summernote.options, {
        partheader: {}
    });


    
// Extend plugins for adding templates
     $.extend($.summernote.plugins, {
     /**
     * @param {Object} context - context object has status of editor.
     */

        'partheader': function (context) {
            var ui = $.summernote.ui;
            var options = context.options.partheader;
            var defaultOptions = {
                //label: 'Part Header',
                icon: '<i class="note-icon" ><svg xmlns="http://www.w3.org/2000/svg" height=18 width=18 viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M128 128C128 92.7 156.7 64 192 64L341.5 64C358.5 64 374.8 70.7 386.8 82.7L493.3 189.3C505.3 201.3 512 217.6 512 234.6L512 512C512 547.3 483.3 576 448 576L192 576C156.7 576 128 547.3 128 512L128 128zM336 122.5L336 216C336 229.3 346.7 240 360 240L453.5 240L336 122.5zM337 327C327.6 317.6 312.4 317.6 303.1 327L239.1 391C229.7 400.4 229.7 415.6 239.1 424.9C248.5 434.2 263.7 434.3 273 424.9L296 401.9L296 488C296 501.3 306.7 512 320 512C333.3 512 344 501.3 344 488L344 401.9L367 424.9C376.4 434.3 391.6 434.3 400.9 424.9C410.2 415.5 410.3 400.3 400.9 391L336.9 327z"/></svg></i><span class="caret"></span>',
                tooltip: 'Insert Part Header',
                list: {
                 partheader0: '', 
                }
            };


            // Assign default values if not supplied
            for (var propertyName in defaultOptions) {
                if (options.hasOwnProperty(propertyName) === false) {
                    options[propertyName] = defaultOptions[propertyName];
                }
            }



	   // Assign default values if not supplied
            for (var propertyName in defaultOptions) {
                if (options.hasOwnProperty(propertyName) === false) {
                    options[propertyName] = defaultOptions[propertyName];
                }
            }

            //Will only activate on flag,  Subject line tmpl: filename 20 character limit.
            activecountpartheader = window.parent.activecountpartheader; 

        for (let i = 1; i <= activecountpartheader; i++) {

          switch (i) {
                case 1:
                      options.list.partheader1 = window.parent.partheadersubj[1];
                      break; 
                case 2:
                      options.list.partheader2 = window.parent.partheadersubj[2];
                      break;
                case 3:
                      options.list.partheader3 = window.parent.partheadersubj[3];
                      break;
                case 4:
                      options.list.partheader4 = window.parent.partheadersubj[4];
                      break;
                case 5:
                      options.list.partheader5 = window.parent.partheadersubj[5];
                      break;
                case 6:
                      options.list.partheader6 = window.parent.partheadersubj[6];
                      break;
                case 7:
                      options.list.partheader7 = window.parent.partheadersubj[7];
                      break;
                case 8:
                      options.list.partheader8 = window.parent.partheadersubj[8];
                      break;
                case 9:
                      options.list.partheader9 = window.parent.partheadersubj[9];
                      break; 
                case 10:
                      options.list.partheader10 = window.parent.partsubjder[10];
                      break; 
                case 11:
                      options.list.partheader11 = window.parent.partsubjder[11];
                      break; 
                case 12:
                      options.list.partheader12 = window.parent.partsubjder[12];
                      break; 
                case 13:
                      options.list.partheader13 = window.parent.partsubjder[13];
                      break; 
                case 14:
                      options.list.partheader14 = window.parent.partsubjder[14];
                      break; 
                case 15:
                      options.list.partheader15 = window.parent.partsubjder[15];
                      break; 
                case 16:
                      options.list.partheader16 = window.parent.partsubjder[16];
                      break; 
                case 17:
                      options.list.partheader17 = window.parent.partsubjder[17];
                      break; 
                case 18:
                      options.list.partheader18 = window.parent.partsubjder[18];
                      break; 
                case 19:
                      options.list.partheader19 = window.parent.partsubjder[19];
                      break; 
                case 20:
                      options.list.partheader20 = window.parent.partsubjder[20];
                      break; 
                default:
                      options.list.partheader0 = ""; //empty or null value that wont show up in list.
                }
               
               } //End for loop


	    // add part button
            context.memo('button.partheader', function () {
                // initialize list
                var htmlDropdownList = '';
                for (var htmlTemplate in options.list) {
                    if ( htmlTemplate != "part_header0" ) {
                    if (options.list.hasOwnProperty(htmlTemplate)) {
                        htmlDropdownList += '<li><a class="dropdown-item" href="#" data-value="' + htmlTemplate + '">' + options.list[htmlTemplate] + '</a></li>';
                    }
                    }
                }

                // create button
                var button = ui.buttonGroup([
                    ui.button({
                        className: "dropdown-toggle",
                        contents: '<span class="partheader"/> ' + options.icon + ' <span class="caret"></span>',
                        tooltip: options.tooltip,
                        data: {
                            toggle: 'dropdown'
                        }
                    }),
                    ui.dropdown({
                        className: 'dropdown-partheader',
                        items: htmlDropdownList,
                        click: function (event) {
                            event.preventDefault();

                            var $button = $(event.target);
                            var value = $button.data('value');
                            var num = value.replace(/\D/g, "");
                            window.parent.importPart(num,"header"); 
                            console.log("partheader ID: " + num );

                        }
                    })
                ]);

                // create jQuery object from button instance.
                return button.render();
            });
        }
    });
}));



(function (factory) {
    /* global define */
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else if (typeof module === 'object' && module.exports) {
        // Node/CommonJS
        module.exports = factory(require('jquery'));
    } else {
        // Browser globals
        factory(window.jQuery);
    }
}(function ($) {
    $.extend($.summernote.options, {
        partcontent: {}
    });

    
   // Extend plugins for adding templates
   $.extend($.summernote.plugins, {
   /**
   * @param {Object} context - context object has status of editor.
   */
         /**
         * @param {Object} context - context object has status of editor.
         */
        'partcontent': function (context) {
            var ui = $.summernote.ui;
            var options = context.options.partcontent;
            var defaultOptions = {
                //label: 'Part Content',
                icon: '<i class="note-icon" ><svg xmlns="http://www.w3.org/2000/svg" height=18 width=18 viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M415.9 274.5C428.1 271.2 440.9 277 446.4 288.3L465 325.9C475.3 327.3 485.4 330.1 494.9 334L529.9 310.7C540.4 303.7 554.3 305.1 563.2 314L582.4 333.2C591.3 342.1 592.7 356.1 585.7 366.5L562.4 401.4C564.3 406.1 566 411 567.4 416.1C568.8 421.2 569.7 426.2 570.4 431.3L608.1 449.9C619.4 455.5 625.2 468.3 621.9 480.4L614.9 506.6C611.6 518.7 600.3 526.9 587.7 526.1L545.7 523.4C539.4 531.5 532.1 539 523.8 545.4L526.5 587.3C527.3 599.9 519.1 611.3 507 614.5L480.8 621.5C468.6 624.8 455.9 619 450.3 607.7L431.7 570.1C421.4 568.7 411.3 565.9 401.8 562L366.8 585.3C356.3 592.3 342.4 590.9 333.5 582L314.3 562.8C305.4 553.9 304 540 311 529.5L334.3 494.5C332.4 489.8 330.7 484.9 329.3 479.8C327.9 474.7 327 469.6 326.3 464.6L288.6 446C277.3 440.4 271.6 427.6 274.8 415.5L281.8 389.3C285.1 377.2 296.4 369 309 369.8L350.9 372.5C357.2 364.4 364.5 356.9 372.8 350.5L370.1 308.7C369.3 296.1 377.5 284.7 389.6 281.5L415.8 274.5zM448.4 404C424.1 404 404.4 423.7 404.5 448.1C404.5 472.4 424.2 492 448.5 492C472.8 492 492.5 472.3 492.5 448C492.4 423.6 472.7 404 448.4 404zM224.9 18.5L251.1 25.5C263.2 28.8 271.4 40.2 270.6 52.7L267.9 94.5C276.2 100.9 283.5 108.3 289.8 116.5L331.8 113.8C344.3 113 355.7 121.2 359 133.3L366 159.5C369.2 171.6 363.5 184.4 352.2 190L314.5 208.6C313.8 213.7 312.8 218.8 311.5 223.8C310.2 228.8 308.4 233.8 306.5 238.5L329.8 273.5C336.8 284 335.4 297.9 326.5 306.8L307.3 326C298.4 334.9 284.5 336.3 274 329.3L239 306C229.5 309.9 219.4 312.7 209.1 314.1L190.5 351.7C184.9 363 172.1 368.7 160 365.5L133.8 358.5C121.6 355.2 113.5 343.8 114.3 331.3L117 289.4C108.7 283 101.4 275.6 95.1 267.4L53.1 270.1C40.6 270.9 29.2 262.7 25.9 250.6L18.9 224.4C15.7 212.3 21.4 199.5 32.7 193.9L70.4 175.3C71.1 170.2 72.1 165.2 73.4 160.1C74.8 155 76.4 150.1 78.4 145.4L55.1 110.5C48.1 100 49.5 86.1 58.4 77.2L77.6 58C86.5 49.1 100.4 47.7 110.9 54.7L145.9 78C155.4 74.1 165.5 71.3 175.8 69.9L194.4 32.3C200 21 212.7 15.3 224.9 18.5zM192.4 148C168.1 148 148.4 167.7 148.4 192C148.4 216.3 168.1 236 192.4 236C216.7 236 236.4 216.3 236.4 192C236.4 167.7 216.7 148 192.4 148z"/></svg></i><span class="caret"></span>',
                tooltip: 'Insert Part Content',
                list: {
                 partheader0: '', 
                }
            };


            // Assign default values if not supplied
            for (var propertyName in defaultOptions) {
                if (options.hasOwnProperty(propertyName) === false) {
                    options[propertyName] = defaultOptions[propertyName];
                }
            }



            //Will only activate on flag,  Subject line tmpl: filename 20 character limit.
            activecountpartcontent = window.parent.activecountpartcontent; 

        for (let i = 1; i <= activecountpartcontent; i++) {

          switch (i) {
                case 1:
                      options.list.partcontent1 = window.parent.partcontentsubj[1];
                      break; 
                case 2:
                      options.list.partcontent2 = window.parent.partcontentsubj[2];
                      break;
                case 3:
                      options.list.partcontent3 = window.parent.partcontentsubj[3];
                      break;
                case 4:
                      options.list.partcontent4 = window.parent.partcontentsubj[4];
                      break;
                case 5:
                      options.list.partcontent5 = window.parent.partcontentsubj[5];
                      break;
                case 6:
                      options.list.partcontent6 = window.parent.partcontentsubj[6];
                      break;
                case 7:
                      options.list.partcontent7 = window.parent.partcontentsubj[7];
                      break;
                case 8:
                      options.list.partcontent8 = window.parent.partcontentsubj[8];
                      break;
                case 9:
                      options.list.partcontent9 = window.parent.partcontentsubj[9];
                      break; 
                case 10:
                      options.list.partcontent10 = window.parent.partcontentsubj[10];
                      break; 
                case 11:
                      options.list.partcontent11 = window.parent.partcontentsubj[11];
                      break; 
                case 12:
                      options.list.partcontent12 = window.parent.partcontentsubj[12];
                      break; 
                case 13:
                      options.list.partcontent13 = window.parent.partcontentsubj[13];
                      break; 
                case 14:
                      options.list.partcontent14 = window.parent.partcontentsubj[14];
                      break; 
                case 15:
                      options.list.partcontent15 = window.parent.partcontentsubj[15];
                      break; 
                case 16:
                      options.list.partcontent16 = window.parent.partcontentsubj[16];
                      break; 
                case 17:
                      options.list.partcontent17 = window.parent.partcontentsubj[17];
                      break; 
                case 18:
                      options.list.partcontent18 = window.parent.partcontentsubj[18];
                      break; 
                case 19:
                      options.list.partcontent19 = window.parent.partcontentsubj[19];
                      break; 
                case 20:
                      options.list.partcontent20 = window.parent.partcontentsubj[20];
                      break; 





                default:
                      options.list.partcontent0 = ""; //empty or null value that wont show up in list.
                }

               } //End for loop

            // add part button
            context.memo('button.partcontent', function () {
                // initialize list
                var htmlDropdownList = '';
                for (var htmlTemplate in options.list) {
                    if ( htmlTemplate != "partcontent0" ) {
                    if (options.list.hasOwnProperty(htmlTemplate)) {
                        htmlDropdownList += '<li><a class="dropdown-item" href="#" data-value="' + htmlTemplate + '">' + options.list[htmlTemplate] + '</a></li>';
                    }
                    }
                }

                // create button
                var button = ui.buttonGroup([
                    ui.button({
                        className: 'dropdown-toggle',
                        contents: '<span class="partcontent"/> ' + options.icon + ' <span class="caret"></span>',
                        tooltip: options.tooltip,
                        data: {
                            toggle: 'dropdown'
                        }
                    }),
                    ui.dropdown({
                        className: 'dropdown-partcontent',
                        items: htmlDropdownList,
                        click: function (event) {
                            event.preventDefault();

                            var $button = $(event.target);
                            var value = $button.data('value');
                            var num = value.replace(/\D/g, "");
                            window.parent.importPart(num,"content"); 
                            console.log('part content ID: ' + num );


                        }
                    })
                ]);

                // create jQuery object from button instance.
                return button.render();
            });
        }
    });
}));




(function (factory) {
    /* global define */
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else if (typeof module === 'object' && module.exports) {
        // Node/CommonJS
        module.exports = factory(require('jquery'));
    } else {
        // Browser globals
        factory(window.jQuery);
    }
}(function ($) {
    $.extend($.summernote.options, {
        partfooter: {}
    });

     // Extend plugins for adding templates
     $.extend($.summernote.plugins, {
     /**
     * @param {Object} context - context object has status of editor.
     */
              /**
         * @param {Object} context - context object has status of editor.
         */
        'partfooter': function (context) {
            var ui = $.summernote.ui;
            var options = context.options.partfooter;
            var defaultOptions = {
                //label: 'Part Footer',
                icon: '<i class="note-icon" ><svg xmlns="http://www.w3.org/2000/svg" height=18 width=18 viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="m 512,512 c 0,35.3 -28.7,64 -64,64 H 298.5 c -17,0 -33.3,-6.7 -45.3,-18.7 L 146.7,450.7 C 134.7,438.7 128,422.4 128,405.4 V 128 c 0,-35.3 28.7,-64 64,-64 h 256 c 35.3,0 64,28.7 64,64 z m -208,5.5 V 424 c 0,-13.3 -10.7,-24 -24,-24 H 186.5 Z M 303,313 c 9.4,9.4 24.6,9.4 33.9,0 l 64,-64 c 9.4,-9.4 9.4,-24.6 0,-33.9 -9.4,-9.3 -24.6,-9.4 -33.9,0 l -23,23 V 152 c 0,-13.3 -10.7,-24 -24,-24 -13.3,0 -24,10.7 -24,24 v 86.1 l -23,-23 c -9.4,-9.4 -24.6,-9.4 -33.9,0 -9.3,9.4 -9.4,24.6 0,33.9 l 64,64 z" id="path1" /></svg></i><span class="caret"></span>',
                tooltip: 'Insert Part Footer',
                list: {
                 partfooter0: '',
                }
            };

           // Assign default values if not supplied
            for (var propertyName in defaultOptions) {
                if (options.hasOwnProperty(propertyName) === false) {
                    options[propertyName] = defaultOptions[propertyName];
                }
            }

           //Will only activate on flag,  Subject line tmpl: filename 20 character limit.
           activecountpartfooter = window.parent.activecountpartfooter; 

        for (let i = 1; i <= activecountpartfooter; i++) {

          switch (i) {
                case 1:
                      options.list.partfooter1 = window.parent.partfootersubj[1];
                      break; 
                case 2:
                      options.list.partfooter2 = window.parent.partfootersubj[2];
                      break;
                case 3:
                      options.list.partfooter3 = window.parent.partfootersubj[3];
                      break;
                case 4:
                      options.list.partfooter4 = window.parent.partfootersubj[4];
                      break;
                case 5:
                      options.list.partfooter5 = window.parent.partfootersubj[5];
                      break;
                case 6:
                      options.list.partfooter6 = window.parent.partfootersubj[6];
                      break;
                case 7:
                      options.list.partfooter7 = window.parent.partfootersubj[7];
                      break;
                case 8:
                      options.list.partfooter8 = window.parent.partfootersubj[8];
                      break;
                case 9:
                      options.list.partfooter9 = window.parent.partfootersubj[9];
                      break; 
                case 10:
                      options.list.partfooter10 = window.parent.partfootersubj[10];
                      break; 
                case 11:
                      options.list.partfooter11 = window.parent.partfootersubj[11];
                      break; 
                case 12:
                      options.list.partfooter12 = window.parent.partfootersubj[12];
                      break; 
                case 13:
                      options.list.partfooter13 = window.parent.partfootersubj[13];
                      break; 
                case 14:
                      options.list.partfooter14 = window.parent.partfootersubj[14];
                      break; 
                case 15:
                      options.list.partfooter15 = window.parent.partfootersubj[15];
                      break; 
                case 16:
                      options.list.partfooter16 = window.parent.partfootersubj[16];
                      break; 
                case 17:
                      options.list.partfooter17 = window.parent.partfootersubj[17];
                      break; 
                case 18:
                      options.list.partfooter18 = window.parent.partfootersubj[18];
                      break; 
                case 19:
                      options.list.partfooter19 = window.parent.partfootersubj[19];
                      break; 
                case 20:
                      options.list.partfooter20 = window.parent.partfootersubj[20];
                      break; 

                default:
                      options.list.partfooter0 = ""; //empty or null value that wont show up in list.
                }
               
               } //End for loop

            // add part footer button
            context.memo('button.partfooter', function () {
                // initialize list
                var htmlDropdownList = '';
                for (var htmlTemplate in options.list) {
                    if ( htmlTemplate != "partfooter0" ) {
                    if (options.list.hasOwnProperty(htmlTemplate)) {
                        htmlDropdownList += '<li><a class="dropdown-item" href="#" data-value="' + htmlTemplate + '">' + options.list[htmlTemplate] + '</a></li>';
                    }
                    }
                }
            
	                    // create button
                var button = ui.buttonGroup([
                    ui.button({
                        className: 'dropdown-toggle',
                        contents: '<span class="partfooter"/> ' + options.icon + ' <span class="caret"></span>',
                        tooltip: options.tooltip,
                        data: {
                            toggle: 'dropdown'
                        }
                    }),
                    ui.dropdown({
                        className: 'dropdown-partfooter',
                        items: htmlDropdownList,
                        click: function (event) {
                            event.preventDefault();

                            var $button = $(event.target);
                            var value = $button.data('value');
                            var num = value.replace(/\D/g, "");
                            window.parent.importPart(num,"footer");
                            console.log('part footer ID: ' + num );


                        }
                    })
                ]);

                // create jQuery object from button instance.
                return button.render();
            });
        }
    });
}));


/* END : Three section of the same for three part system HEADER CNTENT FOOTER */


/* https://github.com/DiemenDesign/summernote-loremipsum */
(function (factory) {
  if (typeof define === 'function' && define.amd) {
    define(['jquery'],factory);
  } else if(typeof module === 'object' && module.exports) {
    module.exports = factory(require('jquery'));
  } else {
    factory(window.jQuery);
  }
}(function ($) {
  $.extend(true,$.summernote.lang, {
    'en-US': {
      lorem: {
        tooltip: 'Lorem Ipsum'
      }
    }
  });
  $.extend($.summernote.options, {
    lorem: {
      html: true,
      icon: '<i class="note-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14" id="libre-loremipsum"><path d="m 8.723427,10.008177 c 0.31103,-2.6465002 0.26145,-2.9171002 -0.42943,-2.3437002 -0.47899,0.3975 -0.78107,0.4395 -0.78107,0.1084 0,-0.2968 0.72779,-1.058 1.6173,-1.6914 l 1.61729,-1.1516 -0.34186,2.9087 c -0.34448,2.9309002 -0.0812,3.4439002 1.1646,2.2686002 0.54381,-0.5130002 0.63853,-0.5078002 0.47761,0.026 -0.1104,0.3664 -0.98269,1.1613 -1.93841,1.7664 l -1.73767,1.1003 0.35164,-2.992 z m -6.84211,1.0862 c 0,-0.6538 0.37915,-2.3015002 0.84256,-3.6615002 0.62803,-1.8432 0.70145,-2.6987 0.28837,-3.3602 -0.43953,-0.7038 -0.31575,-1.1114 0.59834,-1.9701 1.26364,-1.18709998 2.84314,-1.53729998 1.99723,-0.4428 -0.62949,0.8145 -2.19061,6.4936 -2.19061,7.969 0,1.2666002 0.17785,1.3332002 1.56956,0.5884002 1.65088,-0.8835002 1.10741,-0.038 -0.67362,1.0476 -2.13027,1.2988 -2.43183,1.2777 -2.43183,-0.1704 z m 8.46055,-9.0294002 c -0.18371,-0.2972 0.0361,-0.6824 0.48847,-0.856 1.12627,-0.43219998 1.47663,0.043 0.58028,0.7867 -0.50458,0.4187 -0.83937,0.4405 -1.06875,0.069 z"/></svg></i> &nbsp;<span class="caret"></span>',
      menu: [
        'Create Paragraph',
        'Create Sentence'
      ]
    }
  });
  $.extend($.summernote.plugins, {
    'lorem': function(context) {
      var ui        = $.summernote.ui,
          $note     = context.layoutInfo.note,
          options   = context.options,
          lang      = options.langInfo;
      context.memo('button.lorem', function () {
        var button = ui.buttonGroup([
          ui.button({
            className: 'dropdown-toggle',
            contents:  options.lorem.icon,
            tooltip:   lang.lorem.tooltip,
            data: {
              toggle: 'dropdown'
            }
          }),
          ui.dropdown({
            className: 'dropdown-template',
            items: options.lorem.menu,
            click: function (e) {
              var $button = $(e.target);
              var value = $button.data('value');
              e.preventDefault();
              if (value == 'Create Paragraph')
                var text = generateLoremText(1,LOREM_TEXT_TYPE.PARAGRAPH,options.lorem.html);
              else
                var text = generateLoremText(1,LOREM_TEXT_TYPE.SENTENCE,options.lorem.html);
              $note.summernote('pasteHTML', text);
            }
          })
        ]);
        return button.render();
      });
    }
  });
}));
var LOREM_TEXT_TYPE = {PARAGRAPH: 1, SENTENCE: 2, WORD: 3};
var LOREM_WORDS = ["lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","ut","aliquam,","purus","sit","amet","luctus","venenatis,","lectus","magna","fringilla","urna,","porttitor","rhoncus","dolor","purus","non","enim","praesent","elementum","facilisis","leo,","vel","fringilla","est","ullamcorper","eget","nulla","facilisi","etiam","dignissim","diam","quis","enim","lobortis","scelerisque","fermentum","dui","faucibus","in","ornare","quam","viverra","orci","sagittis","eu","volutpat","odio","facilisis","mauris","sit","amet","massa","vitae","tortor","condimentum","lacinia","quis","vel","eros","donec","ac","odio","tempor","orci","dapibus","ultrices","in","iaculis","nunc","sed","augue","lacus,","viverra","vitae","congue","eu,","consequat","ac","felis","donec","et","odio","pellentesque","diam","volutpat","commodo","sed","egestas","egestas","fringilla","phasellus","faucibus","scelerisque","eleifend","donec","pretium","vulputate","sapien","nec","sagittis","aliquam","malesuada","bibendum","arcu","vitae","elementum","curabitur","vitae","nunc","sed","velit","dignissim","sodales","ut","eu","sem","integer","vitae","justo","eget","magna","fermentum","iaculis","eu","non","diam","phasellus","vestibulum","lorem","sed","risus","ultricies","tristique","nulla","aliquet","enim","tortor,","at","auctor","urna","nunc","id","cursus","metus","aliquam","eleifend","mi","in","nulla","posuere","sollicitudin","aliquam","ultrices","sagittis","orci,","a","scelerisque","purus","semper","eget","duis","at","tellus","at","urna","condimentum","mattis","pellentesque","id","nibh","tortor,","id","aliquet","lectus","proin","nibh","nisl,","condimentum","id","venenatis","a,","condimentum","vitae","sapien","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","sed","tempus,","urna","et","pharetra","pharetra,","massa","massa","ultricies","mi,","quis","hendrerit","dolor","magna","eget","est","lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","integer","eget","aliquet","nibh","praesent","tristique","magna","sit","amet","purus","gravida","quis","blandit","turpis","cursus","in","hac","habitasse","platea","dictumst","quisque","sagittis,","purus","sit","amet","volutpat","consequat,","mauris","nunc","congue","nisi,","vitae","suscipit","tellus","mauris","a","diam","maecenas","sed","enim","ut","sem","viverra","aliquet","eget","sit","amet","tellus","cras","adipiscing","enim","eu","turpis","egestas","pretium","aenean","pharetra,","magna","ac","placerat","vestibulum,","lectus","mauris","ultrices","eros,","in","cursus","turpis","massa","tincidunt","dui","ut","ornare","lectus","sit","amet","est","placerat","in","egestas","erat","imperdiet","sed","euismod","nisi","porta","lorem","mollis","aliquam","ut","porttitor","leo","a","diam","sollicitudin","tempor","id","eu","nisl","nunc","mi","ipsum,","faucibus","vitae","aliquet","nec,","ullamcorper","sit","amet","risus","nullam","eget","felis","eget","nunc","lobortis","mattis","aliquam","faucibus","purus","in","massa","tempor","nec","feugiat","nisl","pretium","fusce","id","velit","ut","tortor","pretium","viverra","suspendisse","potenti","nullam","ac","tortor","vitae","purus","faucibus","ornare","suspendisse","sed","nisi","lacus,","sed","viverra","tellus","in","hac","habitasse","platea","dictumst","vestibulum","rhoncus","est","pellentesque","elit","ullamcorper","dignissim","cras","tincidunt","lobortis","feugiat","vivamus","at","augue","eget","arcu","dictum","varius","duis","at","consectetur","lorem","donec","massa","sapien,","faucibus","et","molestie","ac,","feugiat","sed","lectus","vestibulum","mattis","ullamcorper","velit","sed","ullamcorper","morbi","tincidunt","ornare","massa,","eget","egestas","purus","viverra","accumsan","in","nisl","nisi,","scelerisque","eu","ultrices","vitae,","auctor","eu","augue","ut","lectus","arcu,","bibendum","at","varius","vel,","pharetra","vel","turpis","nunc","eget","lorem","dolor,","sed","viverra","ipsum","nunc","aliquet","bibendum","enim,","facilisis","gravida","neque","convallis","a","cras","semper","auctor","neque,","vitae","tempus","quam","pellentesque","nec","nam","aliquam","sem","et","tortor","consequat","id","porta","nibh","venenatis","cras","sed","felis","eget","velit","aliquet","sagittis","id","consectetur","purus","ut","faucibus","pulvinar","elementum","integer","enim","neque,","volutpat","ac","tincidunt","vitae,","semper","quis","lectus","nulla","at","volutpat","diam","ut","venenatis","tellus","in","metus","vulputate","eu","scelerisque","felis","imperdiet","proin","fermentum","leo","vel","orci","porta","non","pulvinar","neque","laoreet","suspendisse","interdum","consectetur","libero,","id","faucibus","nisl","tincidunt","eget","nullam","non","nisi","est,","sit","amet","facilisis","magna","etiam","tempor,","orci","eu","lobortis","elementum,","nibh","tellus","molestie","nunc,","non","blandit","massa","enim","nec","dui","nunc","mattis","enim","ut","tellus","elementum","sagittis","vitae","et","leo","duis","ut","diam","quam","nulla","porttitor","massa","id","neque","aliquam","vestibulum","morbi","blandit","cursus","risus,","at","ultrices","mi","tempus","imperdiet","nulla","malesuada","pellentesque","elit","eget","gravida","cum","sociis","natoque","penatibus","et","magnis","dis","parturient","montes,","nascetur","ridiculus","mus","mauris","vitae","ultricies","leo","integer","malesuada","nunc","vel","risus","commodo","viverra","maecenas","accumsan,","lacus","vel","facilisis","volutpat,","est","velit","egestas","dui,","id","ornare","arcu","odio","ut","sem","nulla","pharetra","diam","sit","amet","nisl","suscipit","adipiscing","bibendum","est","ultricies","integer","quis","auctor","elit","sed","vulputate","mi","sit","amet","mauris","commodo","quis","imperdiet","massa","tincidunt","nunc","pulvinar","sapien","et","ligula","ullamcorper","malesuada","proin","libero","nunc,","consequat","interdum","varius","sit","amet,","mattis","vulputate","enim","nulla","aliquet","porttitor","lacus,","luctus","accumsan","tortor","posuere","ac","ut","consequat","semper","viverra","nam","libero","justo,","laoreet","sit","amet","cursus","sit","amet,","dictum","sit","amet","justo","donec","enim","diam,","vulputate","ut","pharetra","sit","amet,","aliquam","id","diam","maecenas","ultricies","mi","eget","mauris","pharetra","et","ultrices","neque","ornare","aenean","euismod","elementum","nisi,","quis","eleifend","quam","adipiscing","vitae","proin","sagittis,","nisl","rhoncus","mattis","rhoncus,","urna","neque","viverra","justo,","nec","ultrices","dui","sapien","eget","mi","proin","sed","libero","enim,","sed","faucibus","turpis","in","eu","mi","bibendum","neque","egestas","congue","quisque","egestas","diam","in","arcu","cursus","euismod","quis","viverra","nibh","cras","pulvinar","mattis","nunc,","sed","blandit","libero","volutpat","sed","cras","ornare","arcu","dui","vivamus","arcu","felis,","bibendum","ut","tristique","et,","egestas","quis","ipsum","suspendisse","ultrices","gravida","dictum","fusce","ut","placerat","orci","nulla","pellentesque","dignissim","enim,","sit","amet","venenatis","urna","cursus","eget","nunc","scelerisque","viverra","mauris,","in","aliquam","sem","fringilla","ut","morbi","tincidunt","augue","interdum","velit","euismod","in","pellentesque","massa","placerat","duis","ultricies","lacus","sed","turpis","tincidunt","id","aliquet","risus","feugiat","in","ante","metus,","dictum","at","tempor","commodo,","ullamcorper","a","lacus","vestibulum","sed","arcu","non","odio","euismod","lacinia","at","quis","risus","sed","vulputate","odio","ut","enim","blandit","volutpat","maecenas","volutpat","blandit","aliquam","etiam","erat","velit,","scelerisque","in","dictum","non,","consectetur","a","erat","nam","at","lectus","urna","duis","convallis","convallis","tellus,","id","interdum","velit","laoreet","id","donec","ultrices","tincidunt","arcu,","non","sodales","neque","sodales","ut","etiam","sit","amet","nisl","purus,","in","mollis","nunc","sed","id","semper","risus","in","hendrerit","gravida","rutrum","quisque","non","tellus","orci,","ac","auctor","augue","mauris","augue","neque,","gravida","in","fermentum","et,","sollicitudin","ac","orci","phasellus","egestas","tellus","rutrum","tellus","pellentesque","eu","tincidunt","tortor","aliquam","nulla","facilisi","cras","fermentum,","odio","eu","feugiat","pretium,","nibh","ipsum","consequat","nisl,","vel","pretium","lectus","quam","id","leo","in","vitae","turpis","massa","sed","elementum","tempus","egestas","sed","sed","risus","pretium","quam","vulputate","dignissim","suspendisse","in","est","ante","in","nibh","mauris,","cursus","mattis","molestie","a,","iaculis","at","erat","pellentesque","adipiscing","commodo","elit,","at","imperdiet","dui","accumsan","sit","amet","nulla","facilisi","morbi","tempus","iaculis","urna,","id","volutpat","lacus","laoreet","non","curabitur","gravida","arcu","ac","tortor","dignissim","convallis","aenean","et","tortor","at","risus","viverra","adipiscing","at","in","tellus","integer","feugiat","scelerisque","varius","morbi","enim","nunc,","faucibus","a","pellentesque","sit","amet,","porttitor","eget","dolor","morbi","non","arcu","risus,","quis","varius","quam","quisque","id","diam","vel","quam","elementum","pulvinar","etiam","non","quam","lacus","suspendisse","faucibus","interdum","posuere","lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","duis","tristique","sollicitudin","nibh","sit","amet","commodo","nulla","facilisi","nullam","vehicula","ipsum","a","arcu","cursus","vitae","congue","mauris","rhoncus","aenean","vel","elit","scelerisque","mauris","pellentesque","pulvinar","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","maecenas","pharetra","convallis","posuere","morbi","leo","urna,","molestie","at","elementum","eu,","facilisis","sed","odio","morbi","quis","commodo","odio","aenean","sed","adipiscing","diam","donec","adipiscing","tristique","risus","nec","feugiat","in","fermentum","posuere","urna","nec","tincidunt","praesent","semper","feugiat","nibh","sed","pulvinar","proin","gravida","hendrerit","lectus","a","molestie"];
function generateLoremText (count, type, html) {
  switch (type) {
    case LOREM_TEXT_TYPE.PARAGRAPH:
      var paragraphsArray = new Array();
      for (var i = 0; i < count; i++) {
        paragraphsArray.push((html ? " " : "") + generateLoremText(Math.floor((Math.random() * 10) + 10), LOREM_TEXT_TYPE.SENTENCE) + (html ? " " : ""));
      }
      return paragraphsArray.join("\n");
    break;
    case LOREM_TEXT_TYPE.SENTENCE:
      var sentencesArray = new Array();
      for (var i = 0; i < count; i++) {
        var words = generateLoremText(Math.floor((Math.random() * 5) + 5), LOREM_TEXT_TYPE.WORD).split(" ");
        words[0] = words[0].substr(0, 1).toUpperCase()+words[0].substr(1);
        var sentences = words.join(" ");
        sentencesArray.push(sentences);
      }
      return(sentencesArray.join(". ") + ".").replace(/(\.\,|\,\.)/g, ".");
    break;
    case LOREM_TEXT_TYPE.WORD:
      var randomWordIndex = Math.floor((Math.random() * (LOREM_WORDS.length - 1)) + 1);
      return LOREM_WORDS.slice(randomWordIndex,randomWordIndex+count).join(" ");
    break;
  }
};

    </script>

    <style>
   .note-editor .note-toolbar {
  /* background: #f0f0f1; */
  background: #2f3a3e;	   
 /* border-bottom: 1px solid #c2cad8; */
  -webkit-box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.14), 0 3px 4px 0 rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);
  box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.14), 0 3px 4px 0 rgba(0, 0, 0, 0.12), 0 1px 5px 0 rgba(0, 0, 0, 0.2);
   }
  
   .note-toolbar .card-header {
  background: #2f3a3e;	   
   }

.summernote .btn-group, .popover-content .btn-group {
  /*background: transparent; */
  background: #8b9fa6;	
  -webkit-box-shadow: none;
  box-shadow: none;
}

.summernote .btn, .note-btn {
  color: rgba(0, 0, 0, .54)!important;
  /* background-color: transparent!important; */
  background-color: #8b9fa6;
  padding: 6px 12px;
  font-size: 14px;
  line-height: 1.42857;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.summernote .dropdown-toggle:after {
  vertical-align: middle;
}

.note-popover {
  background: #f0f0f1!important;
}

.note-editor.card {
  -webkit-box-shadow: none;
  box-shadow: none;
  border-radius: none; 
}

.note-editor.note-frame {
  /*border: 1px solid rgba(0, 0, 0, .14);*/
  background: #2f3a3e;
}

.note-editor.note-frame .note-editing-area .note-editable {
  padding-top: 1rem;
}

.note-dropdown-menu {
                     max-height: 300px; 
                     overflow-y: auto !important;
		     z-index: 9999;
		     background: #8b9fa6;
                    }

    </style>

  </head>
  <body>


    <div id="summernote"></div>
    <script>


// Function to detect if document in editor window is FIXED or DYNAMIC and return this value.
function documentType() {
  var fullContent = $("#summernote").summernote("code");              
  const firstComment = fullContent.match(/<\!\-\-(.*?)\-\->/);
  var docTButton = $('.note-btn[data-original-title="FIXED"]');		     
 if (firstComment === undefined || firstComment === null) { 
   console.log("DYNAMIC TEMPLATE NOT FOUND" );
   return "FIXED";		
 } else {
 var comment = firstComment.toString(firstComment);
 console.log("1ST COMMENT IS: "+comment );
 var found = comment.indexOf(" DYNAMIC ");
    if(found == -1) {  return "FIXED";               
                    }  else {   
                       console.log("IS DYNAMIC: "+found );
                       return "DYNAMIC" ;
                            }
        }

 return "FIXED";
 } 

// Change text in button to FIXED or DYNAMIC
function documentTypeNotice()  {

         var docT = documentType();  
         var docTButton = $('.note-btn[data-original-title="Document Type"]'); 
         switch (docT) {
		case "FIXED": 
                          docTButton.html("FIXED");            
			  console.log("CHANGE BUTTON TO FIXED");	     
			  return "FIXED";	     
			  break;	     
                case "DYNAMIC":
		          docTButton.html("DYNAMIC");
			  console.log("CHANGE BUTTON TO DYNAMIC");	     
		          return "DYNAMIC";		  
			  break;	     
                default:
		      if (docTButton.length > 0) {docTButton.find(".note-btn").html("FIXED");}
			  console.log("CHANGE BUTTON TO DEFAULT");	     
		          return "FIXED";		     
		       }
				     
		       }


//  Set Disabled button to notify of document is FIXED or DYNAMIC
var documentTypeButton = function (context) {
    var ui = $.summernote.ui;
    var button = ui.button({
          contents: '<i class="fa fa-ban"/> FIXED',
          tooltip: 'Document Type',
        });
        return button.render();
      }   	    

// Replace current IMG element src value with a dialog for url.
var ReplaceIMG = function (context) {
    var ui = $.summernote.ui;
    var button = ui.button({
        contents: "<i class=\"fa fa-child\"/> Replace", // Button appearance
        tooltip: "replace", // Tooltip on hover
        click: function () {
            	     $("#myCustomModal").modal("show");
		    }});		    

    return button.render();
};


let selectedMove = null
let selectedMoveEnabled = true;




function dragOver(e) {
  //bypass nested drag events, should not be case.Part system only has one event.	    
  e.preventDefault();
  //Only add as a drop target if id is an rcd_div 		    
  // console.log("dragOver function for: NAME: "+e.target.tagName+"  ID:"+e.target.id+" Parent ID:"+e.target.parentElement.id+" Parent TAG:"+e.target.parentElement.tagName );

  if( selectedMoveEnabled && e.target.parentElement.id == "rcd_div" && e.target.parentElement.tagName == "DIV" ) { 
   //console.log("%cDRAG OVER SUCCESS WITH TAG:"+e.target.tagName+" ID:"+e.target.id , "color: green;" );
    e.target.parentElement.insertAdjacentElement("beforebegin", selectedMove );		      

	      }
}

function dragEnd(e) {
  if( selectedMoveEnabled ) { 
                          //console.log("DRAG END "+e.target.tagName+" ID:"+e.target.id );
			  selectedMove = null
	                    }
}

function dragStart(e) {
	  //Bypass nested drag events, should not be case.Part system only has one event.	    
	  if( selectedMoveEnabled ) { 
                          //console.log("DRAG START TAG:"+e.target.tagName+" ID:"+e.target.id );

                          e.dataTransfer.setData("text/plain", e.target.id);
			  e.dataTransfer.effectAllowed = 'move';
			  //e.dataTransfer.setData('text/plain', null);
			  selectedMove = e.target;
		      } 
		      
		}

function isValidUrl(url_string) {
  try {
    new URL(url_string);
    console.log("URL TRUE" );		      
    return true;
  } catch (error) {
    console.log("URL FALSE" );		      
    return false;
  }
}


 function sendDraftName() {
             $("#saveDraft").modal("show");
	     }

 function makeTemplateName() {
             //var templateName;
             $("#makeTmpl").modal("show");
             //return templateName;
	     }
 
// Replace current Table element background style color by grabbing background color in toolbar in realtime.
 function getBGcolor() {
                  var bgcolor ="rgb(255,255,255);";
	          $('.note-recent-color').each(function() {
                  var style = $(this).attr("style");
                  console.log("Style attribute:", style); 	
                  const styleProperties = style.split(';'); 
                  let foundColor = null;	      
                  
		  for (const prop of styleProperties) {
                  const trimmedProp = prop.trim();
                  if (trimmedProp.startsWith('background-color:')) {
                  bgcolor = trimmedProp.substring('background-color:'.length).trim();
                  console.log("background Color:", bgcolor); 	
                  break; // Found the color, exit the loop
                  }
                  }
	          });
                  return bgcolor;
				}

var ChangeColorTable = function (context) {
    var ui = $.summernote.ui;
    var button = ui.button({
        contents: '<i class=""/> Color TABLE', // Button appearance
        tooltip: 'color', // Tooltip on hover
        click: function () {
            //context.invoke('editor.insertText', 'hello'); // Action on click
            var selection = window.getSelection();
	   if (selection.rangeCount > 0) {
	    var selectedNode = selection.anchorNode; 
    		// Find the closest parent table element
		var tableElement = selectedNode.closest('table');

   	   if (tableElement) {
           // You now have the selected table element! 
           // You can manipulate it, access its attributes, or perform other actions
          console.log("Selected table element:", tableElement);
          var bgcolor = getBGcolor();
	  tableElement.style.backgroundColor = bgcolor; 
    } else {
        console.log("No table element found among parent nodes of the selection.");
    } 

		       }}
    });
    return button.render();
};

         //Add drag js attribs to div with rcd_div id. 
function EnableMoveDIVs() {
         const customPopup = document.getElementById('customPopup');
	 customPopup.style.display = 'none'; // hide the popup

        //Get all of the editor HTML. Scan for id with rcd_div. Add needed js to enable drag.
        var editorContent = document.querySelector('.note-editable');
        if (editorContent) {
        var divsToModify = editorContent.querySelectorAll('div#rcd_div');

        divsToModify.forEach(function(div) {
        div.setAttribute('draggable', 'true');
        div.setAttribute('ondragend', 'dragEnd(event)');
        div.setAttribute('ondragover', 'dragOver(event)');
        div.setAttribute('ondragstart', 'dragStart(event)');

	//Using class on children of main div to stop it from breaking apart key divs. 		    
        if( div ) { 
                    const children = div.children;  
	            // 3. Iterate and add the class
	            for (let i = 0; i < children.length; i++) {
                    children[i].classList.add("drag-part");
    		    }		
		  }

        });

        }

         highlightDIV();
         console.log("Enable MOVE on all tagged DIVs");
         //Give notice that tagged DIV are now movable.
         window.parent.noticeMoveEnabled();
	    }


         //Remove js attributes from div with rcd_div id. 
function DisableMoveDIVs() {
         const customPopup = document.getElementById("customPopup");
	 customPopup.style.display = "none"; // hide the popup
         //Get all of the edtor HTML. Scan for id with rcd_div. Remove all of the drag and drop options.
        var editorContent = document.querySelector(".note-editable");
        if (editorContent) {
        var divsToModify = editorContent.querySelectorAll('div#rcd_div');

        divsToModify.forEach(function(div) {
        div.removeAttribute('draggable');
        div.removeAttribute('ondragend');
        div.removeAttribute('ondragover');
        div.removeAttribute('ondragstart');

	//Using class on children of main div to stop it from breaking apart key divs. 		    
        if( div ) { 
                    const children = div.children;  
	            // 3. Iterate and add the class
	            for (let i = 0; i < children.length; i++) {
                    children[i].classList.remove("drag-part");
    		    }		
		  }

        });
         highlightDIV();
         console.log("Disable MOVE on all tagged DIVs");
         window.parent.noticeMoveDisabled();
		    }
	    }

	 //Duplicate closest DIV to mouse click.Then move to where you want it.     
function DuplicateDIV() {
         const customPopup = document.getElementById('customPopup');
         customPopup.style.display = 'none'; // hide the popup 

         // Get summernote closest match div and copy everything between the tags. 
	 var divHTML ="";		    
         var selection = window.getSelection();
           if (selection.rangeCount > 0) {
            var selectedNode = selection.anchorNode;
                // Find the closest parent table element
                var closestDiv = selectedNode.closest('div');
                divHtml = closestDiv.outerHTML;
                console.log("CLOSE DIV" + divHtml); // This will output the full HTML of the closest div


           } else {
              console.log("No div element found among parent nodes of the selection.");
           }
          
            if (divHtml) {
	    //Duplicate below current copied DIV so no DOM confusion takes place.
            //Then put it back in the same place. 
	    var duplicatedDIV = divHtml + divHtml;				
            var editorEditableArea = $('.note-editable');
            if (editorEditableArea.length > 0) {
            var outerHTMLContent = editorEditableArea[0].outerHTML;
            //console.log(outerHTMLContent);
            } 


            const startIndex = outerHTMLContent.indexOf(divHtml);
            const newOuterHTML = outerHTMLContent.substring(0, startIndex - 1) + divHtml + outerHTMLContent.substring(startIndex);
              $('#summernote').summernote('code', newOuterHTML);			
	    //Give Notice that DIV was copied.			
            window.parent.noticeDupDIV();
	    }
	    } 

         //Cut closest Div. 
function CutDIV() {
         const customPopup = document.getElementById('customPopup');
         customPopup.style.display = 'none'; // hide the popup 

         // Get summernote closest match div and cut the node.                             
         var selection = window.getSelection();
           if (selection.rangeCount > 0) {
            var selectedNode = selection.anchorNode;
                // Find the closest parent table element
                var closestDiv = selectedNode.closest('div'); 

           } else {
              console.log("No div element found among parent nodes of the selection.");
           }
            //Need to Cut div from template
            if (closestDiv) {
            closestDiv.remove();            
            console.log("DIV REMOVED");
            }                              
            //Give Notice that DIV was Cut.                  
            window.parent.noticeiCutDIV();
            }



// Help Support Experiment PasteDIV. NOT USED NOW
function AllstringOccurrences(mainString, subString) {
  const indices = [];
  let startIndex = 0;
  let foundIndex;

  while ((foundIndex = mainString.indexOf(subString, startIndex)) !== -1) {
    indices.push(foundIndex);
    startIndex = foundIndex + subString.length; // Start search after the found substring
  }
  return indices;
}
	    


	 //Copy selected text.     
function CopyText() {
         const customPopup = document.getElementById('customPopup');
         customPopup.style.display = 'none'; // Show the popup 

	 const selectedText = window.getSelection().toString(); 
	 if (selectedText) {
            navigator.clipboard.writeText(selectedText)
                .then(() => {
                    console.log(selectedText+" : Text copied to clipboard!");
                })
                .catch(err => {
                    console.error('Failed to copy text: ', err);
                });
          } else {
            console.log('No text selected.');
         }

         console.log("Copy Text");
	    }
	    
	 //Paste selected text.     
 async function PasteText() {
         const customPopup = document.getElementById("customPopup");
         customPopup.style.display = "none"; // hide the popup 

	  var clipboardText ="";	    
         try {
              clipboardText = await navigator.clipboard.readText();
              console.log("Clipboard content:", clipboardText);
             } catch (err) {
              console.error("Failed to read clipboard contents:", err);
              }


         $("#summernote").summernote("editor.pasteHTML", clipboardText );

         console.log("Paste Text");
	    }



// Replace current Table TD element background style color with a dialog for url.
var ChangeColorTd = function (context) {
    var ui = $.summernote.ui;
    var button = ui.button({
        contents: '<i class="fa fa-child"/> Color TD', // Button appearance
        tooltip: 'color', // Tooltip on hover
        click: function () {
            var selection = window.getSelection();
	    var selectedNode = selection.anchorNode; 
    		// Find the closest parent table element make sure its the core td element.
                let element = selectedNode.nodeType === Node.ELEMENT_NODE ? selectedNode : selectedNode.parentElement;
		var tableElement = element.closest('td');


   	   if (tableElement) {
           // You now have the selected table element! 
           // You can manipulate it, access its attributes, or perform other actions
          console.log("Selected table element:", tableElement);
          var bgcolor = getBGcolor();
	  tableElement.style.backgroundColor = bgcolor; 
          			       
    } else {
        console.log("No table element found among parent nodes of the selection.");
    } 

		       }//}
    });
    return button.render();
};

// WebSafe Fonts for Email Clients 2025 
const customFonts = ["Arial", "Courier New", "Georgia", "Helvetica", "Tahoma", "Times New Roman", "Trebuchet MS", "Verdana"]
const customFontSizes = ['8', '10', '12', '14', '16', '18', '24', '36', '40','48','64','72','96','112','128']   

      $('#summernote').summernote({
          focus: false,
	  height: 400,		  
	  codeviewFilter: false,
          codeviewIframeFilter: true,
	  spellCheck: true,		  
	  lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
          dialogsInBody: true,
          dialogsFade: true,
          disableDragAndDrop: false,			
	  fontNames: customFonts ,
	  fontNamesIgnoreCheck: customFonts, 
          addDefaultFonts: false,
	  fontSizes: customFontSizes,	  
	  disableDragAndDrop: true,		  
  popover: {
            image: [
		['image', ['resizeFull', 'resizeHalf', 'resizeQuarter', 'resizeNone']],
                ['float', ['floatLeft', 'floatRight', 'floatNone']],
                ['remove', ['removeMedia']],
                ['custom', ['ReplaceIMG']], // Replace Current IMG src element.
            ],
            link: [
                ['link', ['linkDialogShow', 'unlink']],
            ],
            table: [
                ['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],
                ['delete', ['deleteRow', 'deleteCol', 'deleteTable']],
                ['custom2', ['ChangeColorTable']], // Replace Current table style color element.
                ['custom3', ['ChangeColorTd']], // Replace Current table style color element.
            ]
        },
  buttons: {
            ReplaceIMG: ReplaceIMG, 
            ChangeColorTable: ChangeColorTable,  
            ChangeColorTd: ChangeColorTd,  
	    documentTypeButton: documentTypeButton
        },			  
  callbacks: {
		      //callbacks
		      onInit: function() {
                      $('.note-editable').on('contextmenu', function(e) {
                        e.preventDefault(); // Prevent default browser context menu
			//console.log("Right-clicked inside Summernote!");

                                           const customPopup = document.getElementById('customPopup');
					   // Position the custom popup at the mouse coordinates
                                           customPopup.style.left = event.clientX + 'px';
                                           customPopup.style.top = event.clientY + 'px';
                                           customPopup.style.display = 'block'; // Show the popup
                                           customPopup.style.visibility = 'visible'; // Show the popup
					   docT = documentTypeNotice();
					   // var docT = documentType();
                                           const dynamicElements = document.querySelectorAll('.dynamic');
					   switch(docT) { 
							   case "FIXED":
                                           			dynamicElements.forEach(element => {
					     			element.style.display = 'none';
                                                                element.style.visibility = 'hidden'; 
                                                                }); 
                                                                break;
                                                            case "DYNAMIC": 
                                           			dynamicElements.forEach(element => {
					     			element.style.display = 'block';
                                                                element.style.visibility = 'visible'; 
                                                                });
								break;       
							    default:
                                           			dynamicElements.forEach(element => {
					     			element.style.display = 'none';
                                                                element.style.visibility = 'hidden'; 
                                                                }); 
							       break;
							  }

					  });

	               $(".note-editable").on('click', function(e) {
                       // Your custom function to execute on left-click
                       //console.log("Left-clicked inside Summernote!");
                       // You can access the clicked element using 'e.target'
                       const customPopup = document.getElementById('customPopup');
                       customPopup.style.display = 'none'; // Show the popup
                       //testhis();

                       });			   


				         }

				  },
  toolbar: [
//    // [groupName, [list of button]]
    ['style', ['style','bold', 'italic', 'underline','clear']],
    ['font', ['strikethrough', 'superscript', 'subscript']],
    ['fontname', ['fontname']],
    ['fontsize', ['fontsize']],
    ['color', ['color']],
    ['para', ['ul', 'ol', 'paragraph']],
    ['height', ['height']],
    ['table', ['table']],
    ['insert', ['link','hr','picture', 'video']],
    ['insert', ['template','partheader','partcontent','partfooter','lorem']],
    ['view', ['codeview']],		      
    ['misc', ['undo', 'redo']],
    ['doctype', ['documentTypeButton']],		      
    		      
  ],

});	


$('body').append(
        '<div id="myCustomModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">' +
            '<div class="modal-dialog">' +
                '<div class="modal-content">' +
                    '<div class="">' +
                    '</div>' +
                    '<div class="modal-body">' +
		    '<p>For blank templates use i.e. https://placehold.co/700x140 </br>' +
		    'The numbers in above URL are variable to match need.</br>' +
                        'Otherwise just replace image with a valid URL.</p>' +

                        '<label for="myInput">Enter URL:</label>' +
                        '<input type="text" id="myInput" class="form-control needs-validation" />' +
                    '</div>' +
                    '<div class="modal-footer">' +
                        '<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>' +
                        '<button type="button" class="btn btn-primary" onclick="handleCustomAction()">Replace IMG</button>' +
                    '</div>' +
                '</div>' +
            '</div>' +
        '</div>'
);


// Will be Modal for Make Template Button to give template  a name.
$('body').append('<!-- Make Template Modal -->' +
 '<div class="modal fade" id="makeTmpl" role="dialog">' + 
 '  <div class="modal-dialog modal-sm">' +
 '    <!-- Modal content-->' +
 '    <div class="modal-content">' + 
 '        <div class="modal-header">' + 
 '        <h4 class="modal-title">Make Template</h4>' + 
 '        </div>' +
 '       <div class="modal-body">' +
        '<label for="myInput">Enter Template Name:</label>' +
        '<input type="text" id="tmplFileInput" class="form-control" />' +
 '      </div>' +
 '       <div class="modal-footer">' +
 '         <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>' +
          '<button type="button" class="btn btn-primary" onclick="handleMakeTmplAction()">Make Template</button>' +
 '       </div>' +
 '      </div> ' +
 '   </div>' +
 '</div>');

/*  To launch modal        */
/*  $("#makeTmpl").modal(); */


/* Modal for Save Draft Button to give draft email a name. */
$('body').append('<!-- Save To Draft Modal -->' +
 '<div class="modal fade" id="saveDraft" role="dialog">' + 
 '  <div class="modal-dialog modal-sm">' +
 '    <!-- Modal content-->' +
 '    <div class="modal-content">' + 
 '        <div class="modal-header">' + 
 '        <h4 class="modal-title">Save To Draft</h4>' + 
 '        </div>' +
 '       <div class="modal-body">' +
        '<label for="myInput">Enter Draft Email Name:</label>' +
        '<input type="text" id="draftFileInput" class="form-control" />' +
 '      </div>' +
 '       <div class="modal-footer">' +
 '         <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>' +
          '<button type="button" class="btn btn-primary" onclick="handleSaveDraftAction()">Save To Draft</button>' +
 '       </div>' +
 '      </div> ' +
 '   </div>' +
 '</div>');

/*  To launch modal        */
/*  $("#saveDraft").modal(); */



// Set Defaults	    

$('#summernote').summernote('fullscreen.toggle');
$('#summernote').summernote('fontName', 'Arial');
$('#summernote').summernote('lineHeight', 0.2);
$('#summernote').summernote('dialogsInBody',true);

//$(".note-table-popover").css('visibility', 'hidden');


// brings table popup above Image if they both popup. 
document.addEventListener('keydown', function(event) {

  if (event.altKey) {
    console.log('Alt key was pressed down!');
    // Perform actions when Alt key is pressed
    $(".note-table-popover").css('z-index', '9999');
    $(".note-image-popover").css('z-index', '1');
    $(".note-link-popover").css('z-index', '1');
  }

  if (event.ctrlKey) {
    console.log('Ctrl key was pressed down!');
    // Perform actions when ctrl key is pressed
    $(".note-link-popover").css('z-index', '9999');
    $(".note-image-popover").css('z-index', '1');
    $(".note-table-popover").css('z-index', '1');

  }

  if (event.ctrlKey && event.altKey) {
    console.log('Alt + Ctrl key was pressed down!');
    // Perform actions when ctrl key is pressed
    $(".note-image-popover").css('z-index', '9999');
    $(".note-link-popover").css('z-index', '1');
    $(".note-table-popover").css('z-index', '1');
   }

});



function highlightDIV() {
        // Select all divs with id="rcd_div" within the Summernote editable area
        $(".note-editable #rcd_div").each(function() {
     
        //console.log("Highlight Check" ); 

        const isDraggable = $(this).attr('draggable') === 'true';

        if( isDraggable ) {
	//Enter and set dynamic border.		     
        $(this).mouseenter( (e) => {
	  mouseIN( $(this) );		     
        });

        } else {  $(this).off("mouseenter"); }

        if( isDraggable ) {
        // After leave return styles.
        $(this).mouseleave( (e) => {
	  mouseOUT( $(this) );		     
        //Because items are draggable one will now be empty so clean it up before we finish. 
        $(".note-editable #rcd_highlight").remove();

        });

        } else { $(this).off("mouseleave");   }

        });
		    
}

//Take jQuery object and add highlight.
function mouseIN( thisobj ) {

          //console.log("Mouse entered rcd_div!"); 
          thisobj.wrap("<div id=\"rcd_highlight\" ></div>");		    
	  ParentDiv = thisobj.parent();    
          ParentDiv.css("border", "6px dashed red");

	                    }

//Take jQuery object and remove highlight.
function mouseOUT( thisobj ) {

	  const ParentDiv = thisobj.parent();

          if (ParentDiv.length > 0) {
	  const parentID = ParentDiv.attr("id");

          if (typeof parentID !== 'undefined') {	      
          //console.log("Mouse out rcd_div! "+parentID ); 
	  	    if( parentID == "rcd_highlight" ) {	
                                       

	            			thisobj.unwrap();
		    			console.log("DIV REMOVED "+parentID ); 
		    		        }
		      } else {  console.log("PARENT ID NOT FOUND"); }
		      } else {  console.log("PARENT DIV NOT FOUND"); }

	                     }


function handleCustomAction() {
    var text = $('#myInput').val();
    if(isValidUrl(text) ) { //check if URL is valid. 
    var editor = $('#summernote');			   
    let $node = $(editor.summernote('restoreTarget'));
    if ($node.is('img')) { // Check if it's an image
    console.log("Selected image:", $node[0]); // Access the DOM element
    $node[0].src = text; 

		}}

    console.log("HIDE"); // Access the DOM element
    $('#myCustomModal').modal('hide');
}


function handleMakeTmplAction() {
    var tmplName = $('#tmplFileInput').val();
    //Will need to send template name to php side.
    console.log("Template Name:"+tmplName ); 
    console.log("HIDE"); 
    $('#makeTmpl').modal('hide');
    window.parent.tmplPressMake( tmplName );		    
}


function handleSaveDraftAction() {
    var draftName = $('#draftFileInput').val();
    //Will need to send template name to php side.
    console.log("Draft Name:"+draftName ); 
    console.log("HIDE"); 
    $('#saveDraft').modal('hide');
    window.parent.draftit( draftName );		    
}


// Experimental Drag and Drop Template Element.
function makemoveable() {
		    console.log("WILL USE NATIVE JS DRAG");
	                    }



function getCookie(name) {
  const nameEQ = name + "="; // Construct the name to search for
  const ca = document.cookie.split(';'); // Split the cookie string into an array

  for (let i = 0; i < ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) === ' ') { // Remove leading whitespace
      c = c.substring(1, c.length);
    }
    if (c.indexOf(nameEQ) === 0) { // Check if the cookie starts with the desired name
      return decodeURIComponent(c.substring(nameEQ.length, c.length)); 
    }
  }
  return null; // Return null if the cookie is not found
}


    </script>

    <div id="customPopup" style="z-index:9999;display: none; position: absolute;min-width:50px;min-height:100px;border: 1px solid black; padding: 10px; background-color: white;">

    <a class="dropdown-item dynamic" href="#" onclick="EnableMoveDIVs()"  >Move Parts</a>
    <a class="dropdown-item dynamic" href="#" onclick="DisableMoveDIVs()" >Lock Parts</a>

    <a class="dropdown-item dynamic" href="#" onclick="DuplicateDIV()" >Duplicate Part</a>
    <a class="dropdown-item dynamic" href="#" onclick="CutDIV()" >Cut Part</a>

    <a class="dropdown-item" href="#" onclick="CopyText()" >Copy Text</a>
    <a class="dropdown-item" href="#" onclick="PasteText()" >Paste Text</a>
    </div>

    <div id="summernote"></div>


  </body>
</html>

